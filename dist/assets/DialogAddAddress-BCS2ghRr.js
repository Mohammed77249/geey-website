const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoaderDatacomp-BjX0o2jo.js","assets/desktop-pages-DiQfn64G.js","assets/desktop-pages-BzuTnQ7S.css","assets/LoaderDatacomp-CuMW4rhI.css"])))=>i.map(i=>d[i]);
import{G as W,Y as X,Q as ee,r,v as j,N as te,Z as oe,o as a,c as n,e,f as h,g as N,t as l,F as I,h as S,A as O,j as se,J as le,K as L,L as G,k as y,l as re,_ as ae}from"./desktop-pages-DiQfn64G.js";import ne from"./GoogleMap-C_SKcoaJ.js";import"./index-ClFl7zOa.js";import"./phone-pages-B0r6XFYv.js";const ie={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},de={class:"bg-white w-full max-w-4xl gap-5 overflow-y-auto custom-scroll sm:max-h-[600px] h-full shadow-lg p-2"},ue={key:0},ce={key:1},ve={key:2},pe={class:"grid grid-cols-1 sm:grid-cols-12 gap-3 mt-5"},ge={class:"col-span-6 bg-gray-100"},me={class:"py-4 p-5 shadow bg-white m-2"},fe={class:"text-primary-900 font-bold text-xl"},be={class:"p-2 bg-white m-2 sm:max-h-72 md:max-h-[500px] overflow-y-auto"},he={class:"grid grid-cols-12 p-2"},ye=["onClick"],xe={class:"text-md font-semibold text-black"},we={class:"text-sm font-normal text-black"},ke={class:"text-sm font-normal text-black"},_e={class:"col-span-6"},Ce={class:"flex items-center justify-end mt-[10px]"},$e=["onClick"],Ie={class:"col-span-6 bg-gray-100"},Se={class:"py-4 p-5 shadow bg-white m-2"},Ae={class:"text-primary-900 font-bold text-xl"},De={class:"p-2 bg-white m-2"},Me={class:"bg-white border shadow p-2"},Be={class:"block text-xs font-semibold text-black mb-2"},Ve=["placeholder"],je={class:"bg-white border shadow p-2"},Ne={class:"block text-xs font-semibold text-black mb-2"},Oe={class:"text-black"},Le={class:"h-48 px-3 pb-3 overflow-y-auto custom-scroll text-[12px] text-gray-700","aria-labelledby":"dropdownSearchButton"},Ge=["onClick"],Pe={class:"flex items-center ps-2 cursor-pointer rounded hover:bg-gray-100"},Ze={for:"checkbox-item-11",class:"w-full py-2 ms-2 cursor-pointer text-sm font-medium text-gray-900 rounded"},qe={class:"bg-white border shadow p-2"},ze={class:"block text-xs font-semibold text-black mb-2"},Ee={class:"text-black"},Te={key:0,class:"h-48 px-3 pb-3 overflow-y-auto custom-scroll text-[12px] text-gray-700","aria-labelledby":"dropdownSearchButton"},Ue=["onClick"],Fe={class:"flex items-center ps-2 cursor-pointer rounded hover:bg-gray-100"},He={for:"checkbox-item-11",class:"w-full py-2 ms-2 cursor-pointer text-sm font-medium text-gray-900 rounded"},Je={class:"bg-white border shadow p-2"},Ke={class:"block text-xs font-semibold text-black mb-2"},Qe=["laceholder"],Re={class:"bg-white border shadow p-2"},Ye={class:"bg-white border shadow p-2"},We={type:"submit",class:"w-full bg-primary-900 text-white py-3 font-semibold text-sm"},Xe={key:0},et={key:3},rt={__name:"DialogAddAddress",props:{isOpen:{type:Boolean,required:!0},titles:{type:Array,default:()=>[]},loading:{type:Boolean},error:{type:String}},emits:["close"],setup(A,{emit:P}){const Z=re(()=>ae(()=>import("./LoaderDatacomp-BjX0o2jo.js"),__vite__mapDeps([0,1,2,3]))),q=W(),d=X(),{t:i}=ee(),p=A,D=s=>{localStorage.setItem("adressInfoId",s.id),localStorage.setItem("adressInfoName",s.address),V()},x=r(!1),z=()=>{x.value=!0},E=()=>{x.value=!1},C=r(localStorage.getItem("long")),$=r(localStorage.getItem("lat")),g=r(localStorage.getItem("city"));let M=null;const T=()=>{const s=localStorage.getItem("city"),t=localStorage.getItem("long"),o=localStorage.getItem("lat");s!==g.value&&(g.value=s),o!=null&&t!=null&&($.value=o,C.value=t),U()};j(()=>{M=setInterval(T,500)}),te(()=>{clearInterval(M)});const B=r(""),U=()=>{const s=d.getCities.find(t=>t.name===g.value);s?(B.value=`${g.value} موجود داخل المصفوفة`,m.value=g.value,u.value.city_id=s.id):B.value=`${g.value} غير موجود داخل المصفوفة`},w=r([]),k=r(""),_=r(""),u=r({city_id:null,nearest_landmark:"",district_id:null,address:"",lat:null,lng:null,is_default:1}),F=r(null),m=r(i("City")),c=r(!1),H=s=>{u.value.city_id=s.id,m.value=s.name,c.value=!1,s.id?(w.value=d.getDistricts.filter(t=>t.city_id===parseInt(s.id)),f.value=i("Area")):w.value=[]},J=r(null),f=r(i("Area")),v=r(!1),K=s=>{u.value.district_id=s.id,f.value=s.name,v.value=!1},Q=async()=>{if(m.value==i("City")){alert(i("Choose a city"));return}if(f.value==i("Area")){alert(i("Choose a region"));return}if(!$.value&&!C.value){alert(i("Choose from the map"));return}u.value.address=k.value,u.value.nearest_landmark=_.value,u.value.lat=$.value,u.value.lng=C.value,await d.creatAddress(u.value)?(alert(i("Added successfully")),q.fetchDataOrders(),k.value="",_.value="",f.value=i("Area"),m.value=i("City"),localStorage.removeItem("long"),localStorage.removeItem("lat"),localStorage.removeItem("city"),localStorage.removeItem("region")):(alert(d.error+"error"),localStorage.removeItem("long"),localStorage.removeItem("lat"),localStorage.removeItem("city"),localStorage.removeItem("region"))};j(()=>{d.fetchCities(),d.fetchDistricts()}),oe(()=>{});const R=P,V=()=>{R("close")};return(s,t)=>p.isOpen?(a(),n("div",ie,[e("div",de,[e("div",{class:"flex justify-end items-center"},[e("button",{onClick:V,class:"text-primary-900 text-[20px] hover:text-black"}," × ")]),e("div",null,[p.loading||h(d).loading?(a(),n("div",ue,[N(h(Z),{isLoader:p.loading||h(d).loading},null,8,["isLoader"])])):p.error||h(d).loading?(a(),n("div",ce,l(p.error),1)):p.titles?(a(),n("div",ve,[e("div",pe,[e("div",ge,[e("div",me,[e("h1",fe,l(s.$t("All your addresses")),1)]),e("div",be,[(a(!0),n(I,null,S(A.titles,o=>(a(),n("div",{class:"border",key:o.id},[e("div",he,[t[14]||(t[14]=O('<div class="col-span-2 w-12 flex items-center justify-center rounded-full h-12 bg-gray-200"><div class=""><svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="36" height="36" rx="18" fill="#8A1538"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M10.9167 16.598C10.9167 12.7647 14.12 9.6665 17.9946 9.6665C21.8802 9.6665 25.0834 12.7647 25.0834 16.598C25.0834 18.5296 24.3809 20.3229 23.2247 21.8428C21.9491 23.5194 20.3769 24.9802 18.6072 26.1269C18.2022 26.3919 17.8366 26.4119 17.3921 26.1269C15.6124 24.9802 14.0402 23.5194 12.7755 21.8428C11.6184 20.3229 10.9167 18.5296 10.9167 16.598ZM15.6619 16.8138C15.6619 18.0979 16.7098 19.1079 17.9946 19.1079C19.2803 19.1079 20.3382 18.0979 20.3382 16.8138C20.3382 15.5397 19.2803 14.4805 17.9946 14.4805C16.7098 14.4805 15.6619 15.5397 15.6619 16.8138Z" fill="white"></path></svg></div></div>',1)),e("div",{class:"col-span-4 cursor-pointer",onClick:b=>D(o)},[e("p",xe,l(o.address),1),e("span",we,l(o.city.name),1),t[13]||(t[13]=se(" - ")),e("span",ke,l(o.district.name),1)],8,ye),e("div",_e,[e("div",Ce,[e("input",{id:"default-radio-3",type:"radio",onClick:b=>D(o),value:"option3",name:"default-radio",class:"w-4 h-4 text-primary-900 bg-gray-100 focus:ring-primary-900"},null,8,$e)])])])]))),128))])]),e("div",Ie,[e("div",Se,[e("h1",Ae,l(s.$t("Add a new address")),1)]),e("div",De,[e("form",{onSubmit:le(Q,["prevent"])},[e("div",Me,[e("label",Be,l(s.$t("Private office or home")),1),L(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>k.value=o),required:"",placeholder:s.$t("Private office or home"),class:"w-full border border-gray-300 py-2 p-2 text-sm focus:outline-none focus:ring-0 focus:ring-black focus:border-black focus:border-[1px]"},null,8,Ve),[[G,k.value]])]),e("div",je,[e("label",Ne,l(s.$t("City")),1),e("div",{ref_key:"dropDownCite",ref:F},[e("button",{class:"text-[#979797] w-full py-2 border border-gray-300 focus:outline-none focus:ring-0 focus:ring-black focus:border-black focus:border-[1px] text-sm px-5 inline-flex items-center justify-between",type:"button",onClick:t[1]||(t[1]=o=>c.value=!0),onMouseenter:t[2]||(t[2]=o=>c.value=!0),onMouseleave:t[3]||(t[3]=o=>c.value=!1)},[e("p",Oe,l(m.value),1),t[15]||(t[15]=e("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"10px",height:"10px",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1))],32),c.value?(a(),n("div",{key:0,onMouseenter:t[4]||(t[4]=o=>c.value=!0),onMouseleave:t[5]||(t[5]=o=>c.value=!1),class:"z-50 absolute bg-white divide-y divide-gray-100 transition-all duration-300 rounded-lg shadow"},[e("ul",Le,[(a(!0),n(I,null,S(h(d).getCities,(o,b)=>(a(),n("li",{key:b,onClick:Y=>H(o)},[e("div",Pe,[e("span",Ze,l(o.name),1)])],8,Ge))),128))])],32)):y("",!0)],512)]),e("div",qe,[e("label",ze,l(s.$t("Area")),1),e("div",{ref_key:"dropDownDistrict",ref:J},[e("button",{class:"text-[#979797] w-full py-2 border border-gray-300 focus:outline-none focus:ring-0 focus:ring-black focus:border-black focus:border-[1px] text-sm px-5 inline-flex items-center justify-between",type:"button",onClick:t[6]||(t[6]=o=>v.value=!0),onMouseenter:t[7]||(t[7]=o=>v.value=!0),onMouseleave:t[8]||(t[8]=o=>v.value=!1)},[e("p",Ee,l(f.value),1),t[16]||(t[16]=e("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"10px",height:"10px",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1))],32),v.value?(a(),n("div",{key:0,onMouseenter:t[9]||(t[9]=o=>v.value=!0),onMouseleave:t[10]||(t[10]=o=>v.value=!1),class:"z-50 absolute bg-white divide-y divide-gray-100 transition-all duration-300 rounded-lg shadow"},[w.value.length>0?(a(),n("ul",Te,[(a(!0),n(I,null,S(w.value,(o,b)=>(a(),n("li",{key:b,onClick:Y=>K(o)},[e("div",Fe,[e("span",He,l(o.name),1)])],8,Ue))),128))])):y("",!0)],32)):y("",!0)],512)]),e("div",Je,[e("label",Ke,l(s.$t("nearest landmark")),1),L(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>_.value=o),required:"",laceholder:s.$t("nearest landmark"),class:"w-full border border-gray-300 py-2 p-2 text-sm focus:outline-none focus:ring-0 focus:ring-black focus:border-black focus:border-[1px]"},null,8,Qe),[[G,_.value]])]),e("div",Re,[e("button",{type:"button",onClick:t[12]||(t[12]=o=>z()),class:"w-full flex items-center border border-gray-300 text-black gap-2 py-2 font-semibold text-xs"},[t[17]||(t[17]=O('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity="0.4"><path d="M9.25 11H14.75" stroke="#8a1538" stroke-width="1.5" stroke-linecap="round"></path><path d="M12 13.75V8.25" stroke="#8a1538" stroke-width="1.5" stroke-linecap="round"></path></g><path d="M3.62001 8.49C5.59001 -0.169998 18.42 -0.159997 20.38 8.5C21.53 13.58 18.37 17.88 15.6 20.54C13.59 22.48 10.41 22.48 8.39001 20.54C5.63001 17.88 2.47001 13.57 3.62001 8.49Z" stroke="#8a1538" stroke-width="1.5"></path></svg>',1)),e("p",null,l(s.$t("Is it easier to click on the address using Google Map?")),1)])]),e("div",Ye,[e("button",We,l(s.$t("Add a new address")),1)])],32)])])]),x.value?(a(),n("div",Xe,[N(ne,{isOpen:x.value,onClose:E},null,8,["isOpen"])])):y("",!0)])):(a(),n("div",et,t[18]||(t[18]=[e("span",null,"no data",-1)])))])])])):y("",!0)}};export{rt as default};
